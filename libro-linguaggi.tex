\documentclass[
	fontsize=10pt, % Base font size
	twoside=false, % Use different layouts for even and odd pages (in particular, if twoside=true, the margin column will be always on the outside)
	%open=any, % If twoside=true, uncomment this to force new chapters to start on any page, not only on right (odd) pages
	%chapterprefix=true, % Uncomment to use the word "Chapter" before chapter numbers everywhere they appear
	%chapterentrydots=true, % Uncomment to output dots from the chapter name to the page number in the table of contents
	numbers=auto, % Comment to output dots after chapter numbers; the most common values for this option are: enddot, noenddot and auto (see the KOMAScript documentation for an in-depth explanation)
	%draft=true, % If uncommented, rulers will be added in the header and footer
	%overfullrule=true, % If uncommented, overly long lines will be marked by a black box; useful for correcting spacing problems
]{kaobook}

% Choose the language
\usepackage{polyglossia}
\setmainlanguage{italian}
\usepackage[english=british]{csquotes}	% English quotes

% Creative commons license
\usepackage[
	type={CC},
	modifier={by-sa},
	version={4.0},
]{doclicense}

% Load the bibliography package
\usepackage[sorting=nyt]{kaobiblio}
\addbibresource{compilatori.bib} % Bibliography file

%\usepackage[framed=true]{kaotheorems}
\usepackage{amsmath} % Improved mathematics
\usepackage{amsthm} % Mathematical environments
\usepackage{thmtools} % Theorem styles
\usepackage[framemethod=TikZ]{mdframed}
% From kaobook
\mdfsetup{skipabove=\topskip,skipbelow=-.5\topskip}
\mdfdefinestyle{mdfkao}{
  skipabove=\topskip,
  skipbelow=\topskip, % Does not work :(
  rightmargin=0pt,
  leftmargin=0pt,
  innertopmargin=7pt,
  innerbottommargin=7pt,
  innerrightmargin=7pt,
  innerleftmargin=7pt,
  topline=false,
  bottomline=true,
  rightline=false,
  leftline=false,
  frametitlerule=true,
}

\declaretheoremstyle[
spaceabove=6pt,
spacebelow=6pt,
headfont=\normalfont\bfseries,
notefont=\mdseries, notebraces={(}{)},
bodyfont=\normalfont,
postheadspace=1em,
shaded={bgcolor=Goldenrod!45!white},
headpunct={}
]{mythmstyle}

\theoremstyle{mythmstyle}
\declaretheorem[
name=Teorema,
style=mythmstyle,
refname={Teorema,Teeoremi},
Refname={Teorema,Teeoremi},
numberwithin=chapter,
]{theorem}
\declaretheorem[
name=Proposizione,
style=mythmstyle,
sibling=theorem,
refname={Proposizione,Proposizioni},
Refname={Proposizione,Proposizioni},
numberwithin=chapter,
]{proposition}
\declaretheorem[
name=Corollario,
style=mythmstyle,
sibling=theorem,
refname={Corollario,Corollari},
Refname={Corollario,Corollari},
numberwithin=chapter,
]{corollary}
\declaretheorem[
name=Lemma,
style=mythmstyle,
sibling=theorem,
refname={Lemma,Lemmi},
Refname={Lemma,Lemmi},
numberwithin=chapter,
]{lemma}
\declaretheorem[
name=Nota,
style=mythmstyle,
sibling=theorem,
refname={Nota,Note},
Refname={Nota,Note},
numberwithin=chapter,
]{observation}


% Quello che segue non ha la stessa numerazione di teoremi, lemmi, ecc.
\declaretheoremstyle[
spaceabove=6pt,
spacebelow=12pt,
headfont=\normalfont\bfseries,
notefont=\mdseries, notebraces={(}{)},
bodyfont=\normalfont,
postheadspace=1em,
shaded={bgcolor=green!15!white},
headpunct={}
]{mydefstyle}
\declaretheorem[
name=Definizione,
style=mydefstyle,
refname={Definizione,Definizioni},
Refname={Definizione,Definizioni},
numberwithin=chapter,
]{definition}

\declaretheorem[
name=Problema,
style=mydefstyle,
refname={Problema,Problemi},
Refname={Problema,Problemi},
]{problem}



\declaretheoremstyle[
spaceabove=6pt,
spacebelow=6pt,
headfont=\normalfont\bfseries,
notefont=\mdseries, notebraces={(}{)},
bodyfont=\normalfont,
postheadspace=1em,
shaded={bgcolor=gray!15!white},
headpunct={}
]{myexamplestyle}
\declaretheorem[
name=Esempio,
style=myexamplestyle,
refname={Esempio,Esempi},
Refname={Esempio,Esempi},
numberwithin=chapter,
]{example}

\declaretheorem[
name=Esercizio,
style=mythmstyle,
refname={Esercizio,Esercizi},
Refname={Esercizio,Esercizi},
numberwithin=chapter,
]{exercise}


\newcommand{\parte}[1]{\pagelayout{wide}\addpart{#1}\pagelayout{margin}}


\usepackage{kaorefs}

% Set the paths where to look for images
\usepackage{subcaption}
\graphicspath{{./imgs/}{./img/}}

\makeindex[columns=3, title=Alphabetical Index, intoc] % Make LaTeX produce the files required to compile the index

\makeglossaries% Make LaTeX produce the files required to compile the glossary
\makenomenclature
% Tikz
\usetikzlibrary{automata,positioning}




% \usepackage{graphics}
% \usepackage{amsfonts}
% \usepackage{amstext}
% \usepackage{engrec}
% \usepackage{rotating}
% \usepackage[safe,extra]{tipa}
% \usepackage{showkeys}
% \usepackage{multirow}
% \usepackage{hyperref}
% \usepackage{microtype}
% \usepackage{enumerate}
% \usepackage{braket}
% \usepackage{marginnote}
% \usepackage{pgfplots}
% \usepackage{cancel}
% \usepackage{polynom}
% \usepackage{booktabs}
% \usepackage{enumitem}
% \usepackage{framed}
% \usepackage{pdfpages}
% \usepackage{pgfplots}

% \usepackage{varwidth,pst-tree,realscripts}
% \usepackage{bidi}
% \psset{showbbox=false,treemode=D,linewidth=0.3pt,treesep=2ex,levelsep=0.5cm}
% \newcommand{\LFTw}[2]{%
% \Tr[ref=#1]{\psframebox[linestyle=none,framesep=4pt]{%
% \begin{varwidth}{15ex}\center #2\end{varwidth}}}}
% \newcommand{\LFTr}[2]{\Tr[ref=#1]{\psframebox[linestyle=none,framesep=4pt]{#2}}}

% \def\pstreehooki{\psset{thislevelsep=*0pt}}
% \def\pstreehookiii{\psset{thislevelsep=*0pt}}
% \def\pstreehookv{\psset{thislevelsep=*0pt}}

\newcommand{\keyword}[1]{\textbf{#1}\marginnote{#1}}


%\pgfplotsset{compat=1.13}
\begin{document}

\definecolor{shadecolor}{gray}{0.80}

\titlehead{Linguaggi, Grammatiche, Parser}
\subject{}

\title[Linguaggi, Grammatiche, Parser]{Linguaggi, Grammatiche, Parser}
\subtitle{Un libro su: Linguaggi, Grammatiche, Parser}

\author[GDV]{Gianluca Della Vedova}
\date{\today}

\frontmatter

%----------------------------------------------------------------------------------------
%       COPYRIGHT PAGE
%----------------------------------------------------------------------------------------

\makeatletter
\uppertitleback{\@titlehead} % Header

\lowertitleback{\doclicenseThis%
Sei libero di riprodurre, distribuire, comunicare al pubblico, esporre
in pubblico, rappresentare, eseguire, recitare e modificare quest'opera
alle seguenti condizioni:
\begin{itemize}
\item
Attribuzione — Devi attribuire la paternit{\`a} dell'opera nei modi
indicati dall'autore o da chi ti ha dato l'opera in licenza e in modo tale da
non suggerire che essi avallino te o il modo in cui tu usi l'opera.
\item
Condividi allo stesso modo — Se alteri o trasformi quest'opera, o se
la usi per crearne un'altra, puoi distribuire l'opera risultante solo con
una licenza identica o equivalente a  questa.
\end{itemize}
%  \vspace*{1cm}

Tutto il materiale si trova al link
\url{https://github.com/gdv/linguaggi-formali}.
Tutti sono invitati a contribuire a questo libro.
}
\makeatother
\maketitle


%----------------------------------------------------------------------------------------
%       PREFACE
%----------------------------------------------------------------------------------------

%\input{chapters/preface.tex}
%\index{preface}

%----------------------------------------------------------------------------------------
%       TABLE OF CONTENTS & LIST OF FIGURES/TABLES
%----------------------------------------------------------------------------------------

\begingroup % Local scope for the following commands

% Define the style for the TOC, LOF, and LOT
%\setstretch{1} % Uncomment to modify line spacing in the ToC
%\hypersetup{linkcolor=blue} % Uncomment to set the colour of links in the ToC
\setlength{\textheight}{230\hscale} % Manually adjust the height of the ToC pages

% Turn on compatibility mode for the etoc package
\etocstandarddisplaystyle % "toc display" as if etoc was not loaded
\etocstandardlines % "toc lines as if etoc was not loaded

\tableofcontents % Output the table of contents

\endgroup

%----------------------------------------------------------------------------------------
%       MAIN BODY
%----------------------------------------------------------------------------------------

\mainmatter % Denotes the start of the main document content, resets page numbering and uses arabic numbers
\setchapterstyle{kao} % Choose the default chapter heading style

\parte{Introduzione}
\input{capitoli/introduzione.tex}


\parte{Linguaggi e grammatiche}
\input{capitoli/linguaggi.tex}
\input{capitoli/automi-stati-finiti.tex}
\input{capitoli/automi-pila.tex}
\input{capitoli/macchine-turing.tex}


\parte{Parser}
\input{capitoli/analisi-lessicale.tex}
\input{capitoli/ll.tex}
\input{capitoli/lrk.tex}
\input{capitoli/peg.tex}


\appendix % From here onwards, chapters are numbered with letters, as is the appendix convention

\parte{Appendix}

%\input{chapters/appendix.tex}

%----------------------------------------------------------------------------------------

\backmatter % Denotes the end of the main document content
\setchapterstyle{plain} % Output plain chapters from this point onwards

%----------------------------------------------------------------------------------------
%       BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

% The bibliography needs to be compiled with biber using your LaTeX editor, or on the command line with 'biber main' from the template directory

%\defbibnote{bibnote}{Here are the references in citation order.\par\bigskip} % Prepend this text to the bibliography
\printbibliography[heading=bibintoc, title=Bibliografia] % Add the bibliography heading to the ToC, set the title of the bibliography and output the bibliography note


%----------------------------------------------------------------------------------------
%       NOMENCLATURE
%----------------------------------------------------------------------------------------

% The nomenclature needs to be compiled on the command line with 'makeindex main.nlo -s nomencl.ist -o main.nls' from the template directory

%\nomenclature{$c$}{Speed of light in a vacuum inertial frame}
%\nomenclature{$h$}{Planck constant}
%
%\renewcommand{\nomname}{Notation} % Rename the default 'Nomenclature'
%\renewcommand{\nompreamble}{The next list describes several symbols that will be later used within the body of the document.} % Prepend this text to the nomenclature
%
%\printnomenclature % Output the nomenclature


%----------------------------------------------------------------------------------------
%       GLOSSARY
%----------------------------------------------------------------------------------------

% The glossary needs to be compiled on the command line with 'makeglossaries main' from the template directory
%
%\setglossarystyle{listgroup} % Set the style of the glossary (see https://en.wikibooks.org/wiki/LaTeX/Glossary for a reference)
%\printglossary[title=Special Terms, toctitle=List of Terms] % Output the glossary, 'title' is the chapter heading for the glossary, toctitle is the table of contents heading

%----------------------------------------------------------------------------------------
%       INDEX
%----------------------------------------------------------------------------------------

% The index needs to be compiled on the command line with 'makeindex main' from the template directory

%\printindex % Output the index

%\newpage
%\listoftheorems

\end{document}

%%% Local Variables:
%%% mode: LaTeX
%%% TeX-engine: luatex
%%% End:
